{% block content %}
<!-- Container with Alpine state -->
<div
  id="articles"
  x-data="{ offset: 0, limit: 2 }"
  class="w-full h-full flex flex-col items-center pt-24 sm:pt-28 px-10 gap-4"
>
  <span class="text-9xl font-tusker self-start">NEWS</span>

  <div
    id="articles-list"
    class="w-full h-full"
    hx-get="/articles/content?offset=0&limit=2"
    hx-trigger="load"
    hx-swap="innerHTML"
  >
    <span>Loading news...</span>
  </div>

  <!-- Pagination Controls -->
  <div class="flex justify-around w-full pb-12">
    <!-- Previous Button -->
    <svg
      id="prev-btn"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="cursor-pointer size-6"
      x-on:click="
        offset = Math.max(0, offset - limit);
        $nextTick(() => {
          htmx.ajax('GET', `/articles/content?limit=${limit}&offset=${offset}`, '#articles-list');
        });
      "
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"
      />
    </svg>

    <!-- Next Button -->
    <svg
      id="next-btn"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="cursor-pointer size-6"
      x-on:click="
        offset += limit;
        $nextTick(() => {
          htmx.ajax('GET', `/articles/content?limit=${limit}&offset=${offset}`, '#articles-list');
        });
      "
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"
      />
    </svg>
  </div>
</div>

{% endblock %}
