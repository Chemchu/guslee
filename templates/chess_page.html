<div class="bg-gray-900 text-white w-full">
  <div class="container mx-auto max-w-6xl">
    <div>
      <h1 class="text-3xl font-bold">Chemchu</h1>
    </div>

    <!-- ELO Graph -->
    <div class="bg-gray-800 rounded-lg border border-gray-700">
      <h2 class="text-2xl font-bold">Rating Progress</h2>
      <div id="eloChart"></div>
    </div>

    <!-- Rating Cards -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
      <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
        <div class="flex justify-between items-start mb-2">
          <h3 class="text-gray-400 text-sm">Blitz</h3>
          <span class="text-green-500 text-xs">↑ 24</span>
        </div>
        <p class="text-4xl font-bold mb-1">1845</p>
        <p class="text-sm text-gray-500">Peak: 1892</p>
      </div>

      <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
        <div class="flex justify-between items-start mb-2">
          <h3 class="text-gray-400 text-sm">Rapid</h3>
          <span class="text-red-500 text-xs">↓ 12</span>
        </div>
        <p class="text-4xl font-bold mb-1">1756</p>
        <p class="text-sm text-gray-500">Peak: 1801</p>
      </div>

      <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
        <div class="flex justify-between items-start mb-2">
          <h3 class="text-gray-400 text-sm">Bullet</h3>
          <span class="text-green-500 text-xs">↑ 8</span>
        </div>
        <p class="text-4xl font-bold mb-1">1623</p>
        <p class="text-sm text-gray-500">Peak: 1687</p>
      </div>
    </div>

    <!-- Stats Overview -->
    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 mb-8">
      <h2 class="text-2xl font-bold mb-6">Overall Statistics</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        <div>
          <p class="text-gray-400 text-sm mb-1">Total Games</p>
          <p class="text-2xl font-bold">2,847</p>
        </div>
        <div>
          <p class="text-gray-400 text-sm mb-1">Win Rate</p>
          <p class="text-2xl font-bold text-green-500">54.2%</p>
        </div>
        <div>
          <p class="text-gray-400 text-sm mb-1">Draw Rate</p>
          <p class="text-2xl font-bold text-yellow-500">8.3%</p>
        </div>
        <div>
          <p class="text-gray-400 text-sm mb-1">Loss Rate</p>
          <p class="text-2xl font-bold text-red-500">37.5%</p>
        </div>
      </div>
    </div>

    <!-- Recent Games -->
    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
      <h2 class="text-2xl font-bold mb-6">Recent Games</h2>
      <div class="space-y-3">
        <div class="bg-gray-700 rounded p-4 flex justify-between items-center">
          <div>
            <p class="font-semibold">ChessMaster2024 vs Opponent123</p>
            <p class="text-sm text-gray-400">Blitz • 5+0 • Win by checkmate</p>
          </div>
          <div class="text-right">
            <span
              class="bg-green-600 text-white px-3 py-1 rounded text-sm font-semibold"
              >WIN</span
            >
            <p class="text-xs text-gray-400 mt-1">2 hours ago</p>
          </div>
        </div>

        <div class="bg-gray-700 rounded p-4 flex justify-between items-center">
          <div>
            <p class="font-semibold">ChessMaster2024 vs PlayerXYZ</p>
            <p class="text-sm text-gray-400">Rapid • 10+0 • Win on time</p>
          </div>
          <div class="text-right">
            <span
              class="bg-green-600 text-white px-3 py-1 rounded text-sm font-semibold"
              >WIN</span
            >
            <p class="text-xs text-gray-400 mt-1">5 hours ago</p>
          </div>
        </div>

        <div class="bg-gray-700 rounded p-4 flex justify-between items-center">
          <div>
            <p class="font-semibold">GrandMaster99 vs ChessMaster2024</p>
            <p class="text-sm text-gray-400">
              Blitz • 3+2 • Loss by resignation
            </p>
          </div>
          <div class="text-right">
            <span
              class="bg-red-600 text-white px-3 py-1 rounded text-sm font-semibold"
              >LOSS</span
            >
            <p class="text-xs text-gray-400 mt-1">1 day ago</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Data
    const data = [
      { month: "Jan", blitz: 1750, rapid: 1680, bullet: 1550 },
      { month: "Feb", blitz: 1765, rapid: 1695, bullet: 1565 },
      { month: "Mar", blitz: 1780, rapid: 1710, bullet: 1580 },
      { month: "Apr", blitz: 1795, rapid: 1725, bullet: 1595 },
      { month: "May", blitz: 1810, rapid: 1740, bullet: 1610 },
      { month: "Jun", blitz: 1825, rapid: 1755, bullet: 1625 },
      { month: "Jul", blitz: 1840, rapid: 1770, bullet: 1640 },
      { month: "Aug", blitz: 1835, rapid: 1765, bullet: 1635 },
      { month: "Sep", blitz: 1830, rapid: 1760, bullet: 1630 },
      { month: "Oct", blitz: 1845, rapid: 1756, bullet: 1623 },
    ];

    // Set dimensions
    const margin = { top: 20, right: 100, bottom: 40, left: 60 };
    const width = 900 - margin.left - margin.right;
    const height = 400 - margin.top - margin.bottom;

    // Create SVG
    const svg = d3
      .select("#eloChart")
      .append("svg")
      .attr("width", "100%")
      .attr("height", height + margin.top + margin.bottom)
      .attr(
        "viewBox",
        `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`,
      )
      .append("g")
      .attr("transform", `translate(${margin.left},${margin.top})`);

    // Scales
    const x = d3
      .scalePoint()
      .domain(data.map((d) => d.month))
      .range([0, width]);

    const y = d3.scaleLinear().domain([1500, 1900]).range([height, 0]);

    // Line generators
    const blitzLine = d3
      .line()
      .x((d) => x(d.month))
      .y((d) => y(d.blitz))
      .curve(d3.curveMonotoneX);

    const rapidLine = d3
      .line()
      .x((d) => x(d.month))
      .y((d) => y(d.rapid))
      .curve(d3.curveMonotoneX);

    const bulletLine = d3
      .line()
      .x((d) => x(d.month))
      .y((d) => y(d.bullet))
      .curve(d3.curveMonotoneX);

    // Grid
    svg
      .append("g")
      .attr("class", "grid")
      .selectAll("line")
      .data(y.ticks(8))
      .enter()
      .append("line")
      .attr("x1", 0)
      .attr("x2", width)
      .attr("y1", (d) => y(d))
      .attr("y2", (d) => y(d))
      .attr("stroke", "#374151")
      .attr("stroke-width", 1);

    // X Axis
    svg
      .append("g")
      .attr("transform", `translate(0,${height})`)
      .call(d3.axisBottom(x))
      .attr("color", "#9ca3af");

    // Y Axis
    svg.append("g").call(d3.axisLeft(y)).attr("color", "#9ca3af");

    // Lines
    svg
      .append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "#22c55e")
      .attr("stroke-width", 3)
      .attr("d", blitzLine);

    svg
      .append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "#3b82f6")
      .attr("stroke-width", 3)
      .attr("d", rapidLine);

    svg
      .append("path")
      .datum(data)
      .attr("fill", "none")
      .attr("stroke", "#f59e0b")
      .attr("stroke-width", 3)
      .attr("d", bulletLine);

    // Legend
    const legend = svg
      .append("g")
      .attr("transform", `translate(${width + 10}, 20)`);

    const legendData = [
      { name: "Blitz", color: "#22c55e" },
      { name: "Rapid", color: "#3b82f6" },
      { name: "Bullet", color: "#f59e0b" },
    ];

    legendData.forEach((item, i) => {
      const legendRow = legend
        .append("g")
        .attr("transform", `translate(0, ${i * 25})`);

      legendRow
        .append("line")
        .attr("x1", 0)
        .attr("x2", 30)
        .attr("y1", 0)
        .attr("y2", 0)
        .attr("stroke", item.color)
        .attr("stroke-width", 3);

      legendRow
        .append("text")
        .attr("x", 35)
        .attr("y", 5)
        .attr("fill", "#9ca3af")
        .style("font-size", "14px")
        .text(item.name);
    });
  </script>
</div>
